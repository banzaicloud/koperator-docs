---
title: Kafka cluster
shorttitle: KafkaCluster
weight: 7000
---

We created KafkaCluster custom resource examples for some basic use-case.  
You can use these examples as a base to your own Kafka cluster.  

### KafkaCluster CR with detailed explanation

This is our most descriptive KafkaCluster CR. You can find a lot of valuable explanation about the settings.

- [Example #1](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/banzaicloud_v1beta1_kafkacluster.yaml)

### Kafka cluster with monitoring

This is a very simple KafkaCluster CR with prometheus monitoring configuration.

- [Example #1](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/simplekafkacluster.yaml)

### Kafka cluster with ACL,SSL and rack awareness

You can read more details about rack awareness [here](/docs/rackawareness/)

- [Example #](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/kafkacluster_with_ssl_groups.yaml)

### Kafka cluster with broker configuration in different ways

- [Example #](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/kafkacluster_without_ssl_groups.yaml) - use of the broker config group
- [Example #](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/kafkacluster_without_ssl.yaml) - use broker configuration independently

### Kafka cluster with custom SSL certificates for external listeners

You can specify custom SSL certificates for listeners.  
You can read more details about SSL configuration [here](/docs/supertubes/kafka-operator/ssl/).

- [Example #2]() - when an external listener uses custom SSL certificate.
- [Example #3]() - when listeners for controller and inner broker communication uses custom SSL certificates. In this case you also need to provide the client SSL certificate for Koperator.  
- [Example #4]() - in this hybrid solution there are some listeners with custom SSL certificate and some with certificates that auto generated by Koperator with the help of cert-manager.

### Kafka cluster with SASL

You can use SASL authentication on listeners.  
You can read more details [here](/docs/external-listener/).

-[Example #](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/simplekafkacluster_with_sasl.yaml)

### Kafka cluster with load balancers and brokers in same availability zone

You can create a broker-ingress mapping. This way you can eliminate any cross-AZ traffic between load balancers and brokers by configuring load balancers for brokers in same availability zone.

- [Example #](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/simplekafkacluster-with-brokerbindings.yaml)

### Kafka cluster with Istio

You can use Istio as ingress controller for your external listeners. It requires to install our [Istio-operator](https://github.com/banzaicloud/istio-operator) into the Kubernetes cluster.  

- [Example #](https://github.com/banzaicloud/koperator/blob/master/config/samples/kafkacluster-with-istio.yaml)

### Kafka cluster with custom advertise address for external listeners and brokers

You can set custom advertised ip address for brokers. It is useful when your broker need to be advertised on other address then the Kubernetes node ip address.  
You can also set custom advertise address for external listeners.  
You can read more details [here](/docs/external-listener/).

- [Example #](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/simplekafkacluster-with-nodeport-external.yaml)

### Kafka cluster with Kubernetes scheduler affinity settings

You can set node [affinity](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/) settings for brokers.

- [Example #](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/simplekafkacluster_affinity.yaml)

### Kafka cluster with custom storage class

- [Example #](https://raw.githubusercontent.com/banzaicloud/koperator/master/config/samples/simplekafkacluster_ebs_csi.yaml)
